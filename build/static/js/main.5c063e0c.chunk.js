(this["webpackJsonpreact-quiz"]=this["webpackJsonpreact-quiz"]||[]).push([[0],{106:function(e,t,n){},115:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),s=n(48),r=n.n(s),o=(n(106),n(11)),a=n(37),u=n(26),j=n(7),l=n(5),b=Object(c.createContext)({quiz:{completed:!1,score:0,correct:0,incorrectAnswers:[],questionOrder:[],answers:[],startTime:0,endTime:0,durationSeconds:0,timeLimitMinutes:0,currentIndex:-1,title:"",questions:[{type:"",choices:[],answer:"",answers:[]}]},setQuiz:function(e){}}),h=n(4);function d(e,t,n){for(e=e.toString();e.length<t;)e=n+e;return e}function x(e){var t=Object(c.useRef)();return Object(c.useEffect)((function(){var n,c=!0;function i(){var i=Date.now(),s=Math.max(0,e.endAt-i),r=Math.floor(s/1e3),o=Math.floor(r/60),a=Math.floor(o/60),u=a<24?0:Math.floor(a/24),j=d(r-=60*(o-=60*(a-=24*u)),2,"0")+"s";o>0&&(j=d(o,2,"0")+":"+j),r<=0&&o<=0&&(clearInterval(n),e.onEnd&&e.onEnd(),n=null,j=e.endText||"0:00s"),a>0&&(j=a+" hour"+(1!=a?"s":"")),u>0&&(j=u+" day"+(1!=u?"s":""),c=!1),t.current&&(t.current.innerText=j)}return i(),(c||e.alwaysCreateTimer)&&(n=setInterval(i,1e3)),function(){n&&clearInterval(n)}}),[e]),Object(h.jsx)("span",{className:"number "+e.className,ref:t,children:"--"})}function O(){var e=Object(c.useContext)(b).quiz;Object(l.f)();return Object(h.jsxs)(j.a,{bg:"gray.200",position:"relative",children:[Object(h.jsx)(j.a,{p:4,children:Object(h.jsxs)(j.c,{align:"center",maxWidth:"2xl",mx:"auto",minHeight:"36px",children:[Object(h.jsx)(j.d,{as:"h1",fontSize:"lg",fontWeight:"bold",m:0,lineHeight:"1",children:"React Quiz"}),Object(h.jsx)(j.a,{ml:"auto",children:e&&!e.completed?Object(h.jsxs)(h.Fragment,{children:["Time left:"," ",Object(h.jsx)(x,{endAt:e.startTime+60*e.timeLimitMinutes*1e3,onEnd:function(){navigator("/submit")}})]}):null})]})}),Object(h.jsx)(j.a,{position:"absolute",bottom:"0",height:"2px",width:"100%",children:e?Object(h.jsx)(j.a,{width:Math.floor((e.currentIndex+1)/e.questions.length*100)+"%",transition:"width 0.3s ease",bg:"blue.400",h:"2px"}):null})]})}function m(e){var t=e.heading,n=e.children;return Object(h.jsxs)(j.a,{boxShadow:"rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.1) 0px 4px 6px -4px",p:6,borderRadius:4,mb:8,children:[Object(h.jsx)(j.e,{color:"gray.500",mb:2,children:t}),Object(h.jsx)(j.e,{fontSize:"4xl",fontWeight:"bold",lineHeight:1,children:n})]})}function f(){var e=Object(c.useContext)(b).quiz,t=Object(l.f)();return e&&e.completed?Object(h.jsx)(j.a,{children:Object(h.jsxs)(j.b,{maxW:"2xl",mx:"auto",my:20,children:[Object(h.jsxs)(j.d,{as:"h1",mb:8,children:["You completed the ",e.title,"."]}),Object(h.jsxs)(m,{heading:"You scored:",children:[Math.floor(100*e.score),"%"]}),Object(h.jsx)(m,{heading:"Correct answers:",children:e.correct}),Object(h.jsx)(m,{heading:"Time taken:",children:e.durationSeconds>60?Math.floor(e.durationSeconds/60)+" minutes":e.durationSeconds+" seconds"})]})}):(setTimeout((function(){t("/")}),200),Object(h.jsx)(h.Fragment,{}))}var p=n(23),g=n(29),w=n(36),v=n(25),q=n(22);function C(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),c=e[t];e[t]=e[n],e[n]=c}return e}var S=new(n(71).a)("My Salt"+Date.now(),10);function y(e){return S.encode(e)}function T(){var e=Object(l.f)(),t=Object(c.useState)(!1),n=Object(o.a)(t,2),i=n[0],s=n[1],r=Object(c.useState)(!1),a=Object(o.a)(r,2),u=a[0],d=a[1],x=Object(c.useState)(!1),O=Object(o.a)(x,2),m=O[0],f=O[1],S=Object(c.useContext)(b),T=S.quiz,z=S.setQuiz;return Object(c.useEffect)((function(){setTimeout((function(){d(!0)}),100)}),[]),T?(e("/question/"+y(0)),Object(h.jsx)(h.Fragment,{})):Object(h.jsx)(q.b,{in:u,children:Object(h.jsx)(j.a,{children:Object(h.jsxs)(j.b,{maxW:"2xl",width:"100%",mx:"auto",my:20,children:[Object(h.jsx)(j.d,{as:"h1",children:v.title}),Object(h.jsxs)(j.e,{color:"gray.500",mt:2,children:["You will have ",Object(h.jsxs)("strong",{children:[v.timeLimitMinutes," minutes"]})," to complete this quiz."]}),Object(h.jsx)(j.a,{mt:8,children:Object(h.jsx)(g.a,{rightIcon:Object(h.jsx)(w.b,{}),colorScheme:"blue",size:"lg",onClick:function(){s(!0),setTimeout((function(){d(!1),setTimeout((function(){var t=Array.from(Array(v.questions.length).keys());v.shuffleQuestionOrder&&C(t);var n=v.questions;v.shuffleMultipleChoiceOrder&&n.forEach((function(e){Array.isArray(e.choices)&&C(e.choices)})),z(Object(p.a)(Object(p.a)({},v),{},{questionOrder:t,answers:[],startTime:Date.now(),currentIndex:0,questions:n})),e("/question/"+y(0))}),500)}),300)},isLoading:i,children:"Start"})}),Object(h.jsxs)(j.a,{mt:40,color:"gray.500",children:[Object(h.jsxs)(j.e,{cursor:"pointer",_hover:{textDecoration:"underline"},userSelect:"none",onClick:function(){f(!m)},children:[m?"Hide":"View"," more details"," ",m?Object(h.jsx)(w.d,{}):Object(h.jsx)(w.c,{})]}),Object(h.jsx)(q.a,{in:m,children:Object(h.jsx)(j.a,{mt:4,children:Object(h.jsxs)(j.e,{children:["Duration: ",v.timeLimitMinutes," minutes ",Object(h.jsx)("br",{}),"Questions: ",v.questions.length," questions ",Object(h.jsx)("br",{})]})})})]})]})})})}var z=n(13),M=n(52),I=n(68),k=n(69);function E(e){var t=e.isOpen,n=e.onClose,i=e.onSubmit,s=Object(c.useState)(!1),r=Object(o.a)(s,2),a=r[0],u=r[1];return Object(h.jsxs)(k.a,{isOpen:t,onClose:function(){n()},children:[Object(h.jsx)(k.f,{}),Object(h.jsxs)(k.c,{children:[Object(h.jsx)(k.e,{children:"Confirm"}),Object(h.jsx)(k.b,{children:"Are you sure you want to submit your quiz?"}),Object(h.jsxs)(k.d,{children:[Object(h.jsx)(g.a,{mr:2,onClick:function(){n()},children:"Cancel"}),Object(h.jsx)(g.a,{colorScheme:"blue",onClick:function(){u(!0),setTimeout((function(){i(),setTimeout((function(){u(!1)}),1e3)}),300)},isLoading:a,children:"Submit"})]})]})]})}function Q(){var e=Object(l.f)(),t=Object(l.g)().number,n=Object(c.useContext)(b),i=n.quiz,s=n.setQuiz,r=Object(c.useState)(!1),a=Object(o.a)(r,2),u=a[0],d=a[1],x=Object(c.useState)(!1),O=Object(o.a)(x,2),m=O[0],f=O[1];if(Object(c.useEffect)((function(){d(!1),"activeElement"in document&&document.activeElement.blur(),setTimeout((function(){d(!0),i&&s(Object(p.a)(Object(p.a)({},i),{},{currentIndex:C}))}),100)}),[t]),!i)return setTimeout((function(){e("/")})),Object(h.jsx)(h.Fragment,{});if(i.completed)return setTimeout((function(){e("/completed")}),100),Object(h.jsx)(h.Fragment,{});var v,C=(v=t,parseInt(S.decode(v)[0]+"")),T=i.questionOrder[C],k=i.questions[T],Q=i.answers[T];function A(e){var t=Object(z.a)(i.answers);t[T]=e,s(Object(p.a)(Object(p.a)({},i),{},{answers:t}))}return k?Object(h.jsxs)(j.a,{children:[Object(h.jsx)(E,{isOpen:m,onClose:function(){f(!1)},onSubmit:function(){setTimeout((function(){e("/submit")}),300)}}),Object(h.jsx)(q.b,{in:u,children:Object(h.jsxs)(j.b,{maxW:"2xl",mx:"auto",my:20,children:[Object(h.jsxs)(j.e,{color:"gray.500",mb:1,children:["Question ",C+1]}),Object(h.jsx)(j.d,{as:"h1",mb:4,children:k.title}),"multipleChoice"===k.type?Object(h.jsx)(j.a,{children:k.choices.map((function(e,t){return Object(h.jsx)(j.a,{mb:2,children:Object(h.jsxs)(g.a,{width:"100%",justifyContent:"flex-start",onClick:function(){A(e)},children:[Object(h.jsx)(M.a,{userSelect:"none",isChecked:e==Q}),Object(h.jsx)(j.e,{ml:2,lineHeight:"1",mt:"3px",children:e})]})},t)}))}):Object(h.jsx)(j.a,{children:Object(h.jsx)(I.a,{onInput:function(e){A(e.target.value)},value:Q||"",placeholder:"Type your answer here..."})}),Object(h.jsx)(j.a,{mt:8,children:Object(h.jsxs)(j.c,{children:[Object(h.jsx)(q.b,{in:0!==C,children:Object(h.jsx)(g.a,{mr:1,leftIcon:Object(h.jsx)(w.a,{}),onClick:function(){d(!1),setTimeout((function(){e("/question/"+y(C-1))}),500)},children:"Back"})}),Object(h.jsx)(j.a,{ml:"auto",children:C===i.questions.length-1?Object(h.jsx)(g.a,{ml:"auto",colorScheme:"blue",onClick:function(){f(!0)},children:"Submit"}):Object(h.jsx)(g.a,{ml:"auto",rightIcon:Object(h.jsx)(w.b,{}),colorScheme:"blue",onClick:function(){d(!1),setTimeout((function(){e("/question/"+y(C+1))}),500)},children:"Next Question"})})]})})]})})]}):(e("/"),Object(h.jsx)("p",{children:JSON.stringify(i)}))}var A=n(50);function L(){var e=Object(c.useContext)(b),t=e.quiz,n=e.setQuiz,i=Object(l.f)();return Object(c.useEffect)((function(){for(var e=0,c=[],s=0;s<t.answers.length;s++){var r=t.questions[s].answers||[t.questions[s].answer],o=t.answers[s];r.map((function(e){return(e+"").toLowerCase()})).includes((o+"").toLowerCase())?e++:c.push(s)}var a=e/t.questions.length;n(Object(p.a)(Object(p.a)({},t),{},{score:a,correct:e,incorrectAnswers:c,completed:!0,endTime:Date.now(),durationSeconds:Math.floor((Date.now()-t.startTime)/1e3),currentIndex:-1})),setTimeout((function(){i("/completed")}),1500)}),[]),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(j.a,{textAlign:"center",color:"gray.500",mt:20,children:Object(h.jsx)(A.a,{})})})}function F(){return Object(h.jsxs)(j.a,{children:[Object(h.jsx)(O,{}),Object(h.jsxs)(l.c,{children:[Object(h.jsx)(l.a,{path:"/",element:Object(h.jsx)(T,{})}),Object(h.jsx)(l.a,{path:"/question/:number",element:Object(h.jsx)(Q,{})}),Object(h.jsx)(l.a,{path:"/completed",element:Object(h.jsx)(f,{})}),Object(h.jsx)(l.a,{path:"/submit",element:Object(h.jsx)(L,{})})]})]})}var D=function(){var e=Object(c.useState)(),t=Object(o.a)(e,2),n=t[0],i=t[1],s=Object(c.useMemo)((function(){return{quiz:n,setQuiz:i}}),[n]);return Object(h.jsx)(b.Provider,{value:s,children:Object(h.jsx)(a.a,{children:Object(h.jsx)(u.a,{basename:"/react-quiz/build",children:Object(h.jsx)(F,{})})})})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,119)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),s(e),r(e)}))};r.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(D,{})}),document.getElementById("root")),W()},25:function(e){e.exports=JSON.parse('{"title":"Example Quiz","timeLimitMinutes":15,"shuffleQuestionOrder":true,"shuffleMultipleChoiceOrder":true,"questions":[{"type":"multipleChoice","title":"What is 1+1?","choices":["2","4","3","1"],"answer":"2"},{"type":"userAnswer","title":"What is 4-2?","answers":["2","two"]},{"type":"multipleChoice","title":"Is this webpage created with React?","choices":["No","Yes"],"answer":"Yes"}]}')}},[[115,1,2]]]);
//# sourceMappingURL=main.5c063e0c.chunk.js.map